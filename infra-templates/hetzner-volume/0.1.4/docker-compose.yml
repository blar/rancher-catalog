version: '2'

services:
    hetzner-volume:
        privileged: true
        image: foobox/hetzner-volume-rancher
        environment:
            RANCHER_DEBUG: 'true'
            HETZNER_API_KEY: $HETZNER_API_KEY
            HETZNER_VOLUME_PREFIX: $HETZNER_VOLUME_PREFIX
        network_mode: host
        volumes:
            - /var/run:/var/run
            - /dev:/host/dev
            - /var/lib/rancher:/var/lib/rancher:shared
        labels:
            io.rancher.container.agent.role: environment,agent
            io.rancher.container.create_agent: 'true'
            io.rancher.scheduler.global: 'true'
